---
import { Image } from 'astro:assets';
import deporsurLogo from '../assets/logo.png';
const { pathname } = Astro.url;
---

<header class="w-full bg-transparent">
  <nav class="flex items-center px-20 py-2 text-md font-medium mx-auto justify-between max-md:hidden">
    <div class="flex items-center justify-between w-full">
      <a href="/" class="logo">
        <Image src={deporsurLogo} width="90" height="90" alt="Deporsur Homepage" loading="eager" decoding="async"/>
      </a>
      <ul class="flex items-center space-x-4">
        <li 
          class="py-1 px-2 rounded-xl hover:bg-[var(--secondary-color)]" 
          aria-current={pathname.slice(1) === '' ? 'page' : 'false'}
        ><a href="/">TORNEOS</a></li>
        <li 
          class="py-1 px-2 rounded-xl hover:bg-[var(--secondary-color)]"
          aria-current={pathname.slice(1) === 'about' ? 'page' : 'false'}
        ><a href="#galeria" transition:name="gallery">FOTOS Y VIDEOS</a></li>
        <li 
          class="py-1 px-2 rounded-xl hover:bg-[var(--secondary-color)]"
          aria-current={pathname.slice(1) === 'projects' ? 'page' : 'false'}
        ><a href="#auspicios">AUSPICIOS</a></li>
        <li 
          class="py-1 px-2 rounded-xl hover:bg-[var(--secondary-color)]"
          aria-current={pathname.slice(1) === 'contact' ? 'page' : 'false'}
        ><a href="#contacto">CONTACTO</a></li>
      </ul>
    </div>
  </nav>
  <div
    id="toggleMenu"
    class="absolute top-0 right-0 max-md:pl-2 max-md:pr-6 px-20 py-2 md:hidden flex items-center justify-between w-full h-[106px] z-10"
  >
    <a href="/" class="logo">
        <Image src={deporsurLogo} width="90" height="90" alt="Deporsur Homepage" loading="eager" decoding="async"/>
    </a>
    <div
      class="w-16 h-2 bg-white rounded-full transition-all duration-150 before:content-[''] before:absolute before:w-16 before:h-2 before:bg-white before:rounded-full before:-translate-y-4 before:transition-all before:duration-150 after:content-[''] after:absolute after:w-16 after:h-2 after:bg-white after:rounded-full after:translate-y-4 after:transition-all after:duration-150"
    ></div>
  </div>
  <div id="menu" class="fixed top-0 left-0 w-screen h-screen bg-black/70 z-5 hidden">
    <ul class="flex flex-col items-center absolute w-full top-1/3 gap-4">
      <li 
        class="py-1 px-2 hover:bg-[var(--secondary-color)] text-xl w-full text-center" 
        aria-current={pathname.slice(1) === '' ? 'page' : 'false'}
      ><a href="/">TORNEOS</a></li>
      <li 
        class="py-1 px-2 hover:bg-[var(--secondary-color)] text-xl w-full text-center"
        aria-current={pathname.slice(1) === 'about' ? 'page' : 'false'}
      ><a href="#galeria" transition:name="gallery">FOTOS Y VIDEOS</a></li>
      <li 
        class="py-1 px-2 hover:bg-[var(--secondary-color)] text-xl w-full text-center"
        aria-current={pathname.slice(1) === 'projects' ? 'page' : 'false'}
      ><a href="#auspicios">AUSPICIOS</a></li>
      <li 
        class="py-1 px-2 hover:bg-[var(--secondary-color)] text-xl w-full text-center"
        aria-current={pathname.slice(1) === 'contact' ? 'page' : 'false'}
      ><a href="#contacto">CONTACTO</a></li>
    </ul>
  </div>
</header>

<style>
  li[aria-current="page"] {
    background-image: linear-gradient(var(--bg-button-1));
  }

  .active {
    display: block;
  }

  .hamburger-toggle>div {
      height: 0;
      background-color: transparent;
  }
  .hamburger-toggle>div:before {
    transform: translateY(22px);
    rotate: 45deg;
  }
  .hamburger-toggle>div:after {
    transform: translateY(-22px);
    rotate: -45deg;
  }
</style>

<script>
  const toggleMenu = document.querySelector('#toggleMenu');
  const menu = document.querySelector('#menu');

  if (toggleMenu && menu) {
    toggleMenu.addEventListener('click', () => {
      toggleMenu.classList.toggle("hamburger-toggle");
      menu.classList.toggle("active");
    });
  }
</script>